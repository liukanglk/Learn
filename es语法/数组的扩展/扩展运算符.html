<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>扩展运算符</title>
</head>
<body>
<script>
    {
        //扩展运算符为'...'和rest相反，将一个数组转化为用逗号分隔的参数序列
        // console.log(...[1,2,3]); //1 2 3
        // console.log(0,...[1,2,3],4); //0 1 2 3 4
        // 该运算符主要用于函数调用
        function add(x,y) {
            return x+y;
        }
        const numbers=[4,32];
        // console.log(add(...numbers));  //36

        //由于扩展运算符可以展开数组 所以不再需要apply方法将数组转化为参数
        /*ES5中要这么写
        *
        * */
        function f(x,y,z) {

        }
        var args=[0,1,2];
        f.apply(null,args);

        //es6中
        function f1(x,y,z) {

        }
        let args1=[0,1,2]
        f1(...args);
        //如下面的例子 求函数的最大值 ES5
        Math.max.apply(null,[1,3,8,6]);
        //Es6中
        Math.max(...[3,7,2]);

        
    }
    
    {
        //扩展运算符的应用
        //1：复制数组
/*        const a1=[1,2];
        console.log(a1); //1 2
        const a2=a1;
        
        a2[0]=2;
        console.log(a1); //2 2  因为这样复制的是指针 而不是数组本身

        // 若要不改变 es5中只能变通的
        const a3=a1.concat();
        a3[0]=5;
        console.log(a3,a1); //[5,2]  [2,2]*/

    //ES6
        const a1=[1,2];
        //第一种复制方法
        const a2=[...a1];
        //第二种复制方法
        const [...a3]=a1;
        console.log(a2,a3);  //[1,2]  [1,2]
        a2[0]=5; a3[1]=4;
        console.log(a1);  //[1,2]


        //2 合并数组
        //ES5中采用concat  ES6中可以直接合并
        var arr1=['a','b'];
        var arr2=['c'];
        var arr3=['d'];

        var arr4=[...arr1,...arr2,...arr3];
        console.log(arr4);  //a b c d


        //3与解构赋值结合 且扩展运算符只能放在参数的最后一位
        const[first,...rest]=[1,2,3,4,5];
        console.log(first);  //1
        console.log(rest);   //2 3 4 5

        //4 字符串
        console.log([...'hello']);  //[h,e,l,l,o]
        
    }
</script>
</body>
</html>